{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["const gallery = document.querySelector(\".gallery\");\n\n// рисуем картинки из сайта\nexport function generateGalleryMarkup(arrImg){\nreturn arrImg.map(({webformatURL, likes, views, comments, downloads, largeImageURL, tags}) => {\n    return `<li class=\"item-image\">\n    <a class=\"gallery-link\" href=\"${largeImageURL}\" download=\"false\">\n    <img class=\"image\" src=\"${webformatURL}\" data-source=\"${largeImageURL}\" alt=\"${tags}\" width=\"360\" />\n    <ul class=\"list-content\">\n    <li class=\"item-content\"><p class=\"type\">Likes</p>\n    <span class=\"quantity\">${likes}</span></li>\n    <li class=\"item-content\"><p class=\"type\">Views</p>\n    <span class=\"quantity\">${views}</span></li>\n    <li class=\"item-content\"><p class=\"type\">Comments</p>\n    <span class=\"quantity\">${comments}</span></li>\n    <li class=\"item-content\"><p class=\"type\">Downloads</p>\n    <span class=\"quantity\">${downloads}</span></li>\n    </ul>\n</a>\n    </li>`\n}).join(' ')\n}\n\n\nexport function renderMarkup(markup) {\n    gallery.innerHTML = markup\n}\n","import {generateGalleryMarkup, renderMarkup} from './render-functions'\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport 'simplelightbox/dist/simple-lightbox.min.css'\n\nconst API_KEY = \"43312683-2385dcaf90e6cbdc78ebf8a65\";\n//функция которая получает картинки из базы данных\nexport function getImages (query) { \n    fetch(`https://pixabay.com/api/?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`).then((response) => {\n        if (!response.ok) {\n            throw new Error(response.status);\n        }\n\n    return response.json();\n}).then(({total, hits}) => {\n    if(total === 0){\n        iziToast.show({\n            message: 'Sorry, there are no images matching your search query. Please try again!',\n            color: `red`\n        });\n    }\n    // генерирует(готовит) разметку\n    return generateGalleryMarkup(hits)}).then(markup => {\n        const spinner = document.querySelector('.lds-ring');\n        spinner.remove()\n    // подставляет разметку\n\n    renderMarkup(markup)\n    \n    const lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n    });\n\n    lightbox.refresh()\n})\n}\n","import { getImages } from './js/pixabay-api'\n\n\n\nconst form = document.querySelector(\"form\");\n\nfunction handleSubmit(event) {\n    event.preventDefault()\n    const query = form.elements.card.value;\n    form.insertAdjacentHTML('afterend', '<div class=\"lds-ring\"><div></div><div></div><div></div><div></div></div>')\n    getImages(query)\n}\n\nform.addEventListener(\"submit\", handleSubmit)\n"],"names":["gallery","generateGalleryMarkup","arrImg","webformatURL","likes","views","comments","downloads","largeImageURL","tags","renderMarkup","markup","API_KEY","getImages","query","response","total","hits","iziToast","SimpleLightbox","form","handleSubmit","event"],"mappings":"6vBAAA,MAAMA,EAAU,SAAS,cAAc,UAAU,EAG1C,SAASC,EAAsBC,EAAO,CAC7C,OAAOA,EAAO,IAAI,CAAC,CAAC,aAAAC,EAAc,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,EAAW,cAAAC,EAAe,KAAAC,CAAI,IAC7E;AAAA,oCACyBD,CAAa;AAAA,8BACnBL,CAAY,kBAAkBK,CAAa,UAAUC,CAAI;AAAA;AAAA;AAAA,6BAG1DL,CAAK;AAAA;AAAA,6BAELC,CAAK;AAAA;AAAA,6BAELC,CAAQ;AAAA;AAAA,6BAERC,CAAS;AAAA;AAAA;AAAA,UAIrC,EAAE,KAAK,GAAG,CACX,CAGO,SAASG,EAAaC,EAAQ,CACjCX,EAAQ,UAAYW,CACxB,CCpBA,MAAMC,EAAU,qCAET,SAASC,EAAWC,EAAO,CAC9B,MAAM,gCAAgCF,CAAO,MAAME,CAAK,0DAA0D,EAAE,KAAMC,GAAa,CACnI,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGvC,OAAOA,EAAS,MACpB,CAAC,EAAE,KAAK,CAAC,CAAC,MAAAC,EAAO,KAAAC,CAAI,KACdD,IAAU,GACTE,EAAS,KAAK,CACV,QAAS,2EACT,MAAO,KACnB,CAAS,EAGEjB,EAAsBgB,CAAI,EAAE,EAAE,KAAKN,GAAU,CAChC,SAAS,cAAc,WAAW,EAC1C,OAAQ,EAGpBD,EAAaC,CAAM,EAEF,IAAIQ,EAAe,aAAc,CAClD,aAAc,MACd,aAAc,GAClB,CAAK,EAEQ,QAAS,CACtB,CAAC,CACD,CCjCA,MAAMC,EAAO,SAAS,cAAc,MAAM,EAE1C,SAASC,EAAaC,EAAO,CACzBA,EAAM,eAAgB,EACtB,MAAMR,EAAQM,EAAK,SAAS,KAAK,MACjCA,EAAK,mBAAmB,WAAY,0EAA0E,EAC9GP,EAAUC,CAAK,CACnB,CAEAM,EAAK,iBAAiB,SAAUC,CAAY"}